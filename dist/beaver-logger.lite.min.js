!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("beaver",[],r):"object"==typeof exports?exports.beaver=r():n.beaver=r()}("undefined"!=typeof self?self:this,(function(){return function(n){var r={};function e(t){if(r[t])return r[t].exports;var u=r[t]={i:t,l:!1,exports:{}};return n[t].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var u in n)e.d(t,u,function(r){return n[r]}.bind(null,u));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return{}.hasOwnProperty.call(n,r)},e.p="",e(e.s=0)}([function(n,r,e){"use strict";function t(){return(t=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}).apply(this,arguments)}function u(n,r){void 0===r&&(r=Boolean);var e={};for(var t in n)n.hasOwnProperty(t)&&r(n[t],t)&&(e[t]=n[t]);return e}function o(){return"undefined"!=typeof window}e.r(r),Object.create(Error.prototype);var i={u:"debug",v:"info",O:"warn",ERROR:"error"},f={j:"file:"},c=[i.O,i.ERROR],a=6e4;function d(n,r){for(var e in r)r.hasOwnProperty(e)&&r[e]&&!n[e]&&(n[e]=r[e])}function v(n){var r=n.url,e=n.prefix,v=n.flushInterval,l=void 0===v?a:v,s=[],b=[],p=[],O=[],m=[],y=[];function j(){if(o()&&window.location.protocol!==f.j&&(s.length||b.length)){var n=function(){for(var n={},r=0;r<O.length;r++)d(n,(0,O[r])(n));for(var e={},t=0;t<y.length;t++)d(e,(0,y[t])(e));return{meta:n,headers:e}}(),e={events:s,meta:n.meta,tracking:b};s=[],b=[],function(n){var r=n.method,e=void 0===r?"GET":r,t=n.url,u=n.headers,o=n.json,i=new XMLHttpRequest;i.open(e,t);for(var f=0,c=Object.keys(u);f<c.length;f++){var a=c[f];i.setRequestHeader(a,u[a])}i.send(JSON.stringify(o))}({method:"POST",url:r,headers:n.headers,json:e})}}var g,h,w=j;function E(n,r,i){if(void 0===i&&(i={}),!o())return B;e&&(r=e+"_"+r);for(var f=t({},u(i),{timestamp:Date.now().toString()}),a=0;a<p.length;a++)d(f,(0,p[a])(f));return function(n,r,e){s.push({level:n,event:r,payload:e}),-1!==c.indexOf(n)&&w()}(n,r,f),B}function L(n,r){return n.push(r),B}o()&&(g=w,h=l,function n(){setTimeout((function(){g(),n()}),h)}());var B={debug:function(n,r){return E(i.u,n,r)},info:function(n,r){return E(i.v,n,r)},warn:function(n,r){return E(i.O,n,r)},error:function(n,r){return E(i.ERROR,n,r)},track:function(n){if(void 0===n&&(n={}),!o())return B;for(var r=u(n),e=0;e<m.length;e++)d(r,(0,m[e])(r));return b.push(r),B},flush:w,immediateFlush:j,addPayloadBuilder:function(n){return L(p,n)},addMetaBuilder:function(n){return L(O,n)},addTrackingBuilder:function(n){return L(m,n)},addHeaderBuilder:function(n){return L(y,n)}};return B}e.d(r,"Logger",(function(){return v})),e.d(r,"LOG_LEVEL",(function(){return i})),e.d(r,"PROTOCOL",(function(){return f}))}])}));
//# sourceMappingURL=beaver-logger.lite.min.js.map